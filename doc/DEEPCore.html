<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: DEEPCore</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: DEEPCore</h1>

    




<section>

<header>
    
        <h2>
        DEEPCore
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="DEEPCore"><span class="type-signature"></span>new DEEPCore<span class="signature">(platform, questionCount)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Constructor for the core DEEP system. Checks first that the
questionCount given is valid, and then sets up variables.
DEEPCore includes all of the core logic for DEEP, including
data storage, question generation, and the user flow.
DEEPCore invokes the platform, which handles the UI, when
UI needs to be updated.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>platform</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The reference to the object containing
                               the platform methods (Qualtrics/LimeSurvey).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>questionCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The number of questions to ask for DEEP.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="currentChoice0"><span class="type-signature"></span>currentChoice0<span class="type-signature"> :Object</span></h4>




<div class="description">
    Stores the details of the current value of the first choice
that the user is given. DEEP Time: amount, time. DEEP Risk:
outcome0Chance, outcome0Amount, outcome1Chance, outcome1Amount.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="currentChoice1"><span class="type-signature"></span>currentChoice1<span class="type-signature"> :Object</span></h4>




<div class="description">
    Stores the details of the current value of the second choice
that the user is given. DEEP Time: amount, time. DEEP Risk:
outcome0Chance, outcome0Amount, outcome1Chance, outcome1Amount.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="currentStep"><span class="type-signature"></span>currentStep<span class="type-signature"> :Number</span></h4>




<div class="description">
    Represents the current step of DEEP the user is on, from 1..questionCount
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line75">line 75</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="data"><span class="type-signature"></span>data<span class="type-signature"> :Array</span></h4>




<div class="description">
    Stores the data as the user goes through DEEP.
Structure:
- Array (indexed by question number)
  - Object
    - choice: the selected choice, 0 or 1
    - answer: the selected choice, but represented as 1 or 2 instead
    - id
    - DEEP Time: beta, discount rate
    - DEEP Risk: alpha, sigma, lambda
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line61">line 61</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="DEEPType"><span class="type-signature"></span>DEEPType<span class="type-signature"> :String</span></h4>




<div class="description">
    Stores which type of DEEP to run, either TIME or RISK.
This stores a state that is used in many places in the class.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="initialized"><span class="type-signature"></span>initialized<span class="type-signature"> :Boolean</span></h4>




<div class="description">
    Stores whether the instance of DEEP is initialized or not.
If not, renderChoices() will use fixed values for starting off.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="path"><span class="type-signature"></span>path<span class="type-signature"> :Number</span></h4>




<div class="description">
    Represents the "path", a unique identifier for the specific path the user
took through DEEP. Each choice a user makes represents going on a different
path. Used in calculating the next question.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="priors"><span class="type-signature"></span>priors<span class="type-signature"> :Object</span></h4>




<div class="description">
    Stores the pre-calculated values used when constructing choices for the user.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="beginDEEP"><span class="type-signature"></span>beginDEEP<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Begin the initialization of DEEP. First sets the initial
values of the data for step 1, and then passes execution 
to renderChoices(), which will recognize that the system
has not been initialized and will use hard-coded initial
values to set up the system.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line275">line 275</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="decodeIndexer"><span class="type-signature"></span>decodeIndexer<span class="signature">(letter)</span><span class="type-signature"> &rarr; {Integer}</span></h4>

    



<div class="description">
    Decodes an alphanumeric indexer. Different decode behavior between
DEEP Time and DEEP Risk.
<p>
Ported from Legacy Qualtrics DEEP.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>letter</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The string to convert.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line537">line 537</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The decoded number.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="decodeRiskNumber"><span class="type-signature"></span>decodeRiskNumber<span class="signature">(s0, s1, s2, s3, sign, e, isLambda)</span><span class="type-signature"> &rarr; {Number}</span></h4>

    



<div class="description">
    Decode a set of variables into a number representing risk, either
for alpha, sigma, or lambda.
<p>
Ported from Legacy Qualtrics DEEP.
I don't really know how this works, either.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>s0</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>s1</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>s2</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>s3</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sign</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>e</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isLambda</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line574">line 574</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The decoded number.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="finish"><span class="type-signature"></span>finish<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Deconstructs the DEEP system when the question max has been reached.
Converts the data to JSON and calls the platform to finish.
The platform will destroy the DEEP system and return the data
into the platform's data entry field.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line707">line 707</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getChoiceIndex"><span class="type-signature"></span>getChoiceIndex<span class="signature">(step, path, choiceNum)</span><span class="type-signature"> &rarr; {Integer}</span></h4>

    



<div class="description">
    Gets the choice index, which is used as the index for the
arrays containing the potential choices of options. Takes in
a step and a choice number (whether we are usng codedChoices0
or codedChoices1), gets the indexer, decodes it, and returns
the integer of the array index.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>step</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The step number to look up on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The number ID for the current path.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>choiceNum</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">Whether we are looking for an index
                            for codedChoices0 or codedChoices1.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line476">line 476</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The array index for looking up on
                            codedChoices0 or codedChoices1.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getChoiceOption"><span class="type-signature"></span>getChoiceOption<span class="signature">(optionSet, choiceIndex)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Get a choice option given a set and the index of the choice.
It finds the requested option set (codedChoices0 or codedChoices1),
and looks up the choice at the given choiceIndex. Afterwards, it
returns an object containing the vaues of that choice, depending
on whether it is for DEEP Time or DEEP Risk.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>optionSet</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The option set to use, either 0 or 1,
                              corresponding to codedChoices0 or codedChoices1.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>choiceIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The index of the choice in the array for the
                              requested choice set.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line509">line 509</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    An object containing the values for the choice.
                              In DEEP Time: amount, time. In DEEP Risk:
                              outcome0Chance, outcome0Amount, outcome1Chance,
                              outcome1Amount.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getChoiceText"><span class="type-signature"></span>getChoiceText<span class="signature">(choiceSet)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Return the HTML text for the choice given the required parameters, which is
meant to be put in the button that allows them to select a choice.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>choiceSet</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The set containing the attributes for the choice.
                           For DEEP Time: amount, time.
                           For DEEP Risk: outcome0Chance, outcome0Amount,
                           outcome1Chance, outcome1Amount.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line683">line 683</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTML string containing the markup for that choice.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getCurrentPath"><span class="type-signature"></span>getCurrentPath<span class="signature">()</span><span class="type-signature"> &rarr; {Integer}</span></h4>

    



<div class="description">
    Calculates the current path. The path is the identifier for
the specific path that the user has taken through the DEEP
process.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line352">line 352</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The number of the current path.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getID"><span class="type-signature"></span>getID<span class="signature">(step)</span><span class="type-signature"> &rarr; {Integer}</span></h4>

    



<div class="description">
    Calculates the ID for the given step. The ID represents the
unique position of the user according to the choices they
made throughout the DEEP process. Iterates through every step
and calculates the ID given their choices. If their choice
for a given step was 0, add 1; if their choice was 1, add the
unique value corresponding to that step (lookup in stepIDValue).
This way, you get a number that represents their unique position
in the DEEP process.
<p>
Ported from Legacy Qualtrics DEEP.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>step</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The requested step to calculate the ID for.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line652">line 652</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The ID corresponding to the given step.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRisks"><span class="type-signature"></span>getRisks<span class="signature">(step, itemRiskIndex)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Get the risks for a given step and itemRiskIndex. Finds the
risk index array for that step, and then finds the risks.
Risks for DEEP Time: beta, discount rate. Risks for DEEP Risk:
alpha, sigma, lambda.
<p>
Ported from Legacy Qualtrics DEEP.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>step</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The step to look up.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>itemRiskIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The index of the itemRisks array to look up.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line596">line 596</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    For DEEP Time: beta, discountRate.
                                For DEEP Risk: alpha, sigma, lambda.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isDEEPRisk"><span class="type-signature"></span>isDEEPRisk<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    Helper method that returns whether the current DEEP
variant is DEEP Risk or not.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line726">line 726</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the current DEEP variant is DEEP Risk; false if not.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isDEEPTime"><span class="type-signature"></span>isDEEPTime<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    Helper method that returns whether the current DEEP
variant is DEEP Time or not.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line717">line 717</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the current DEEP variant is DEEP Time; false if not.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="nextQuestion"><span class="type-signature"></span>nextQuestion<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Get the next question. Checks whether the question maximum has
been reached; if so, invokes finish; if not, increases the
current step and invokes renderChoices().
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line377">line 377</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="renderChoices"><span class="type-signature"></span>renderChoices<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Render the set of choices for the current step.
<p>
Our goal here is to get a set of two options to give
to the user. Options are stored in two arrays:
codedChoices0 and codedChoices1. Therefore, we need
to pull one element out of the codedChoices0 array,
and one element out of the codedChoices1 array.
<p>
How do we know what element to pull out? First, we
use codedIndexers, which is an array that contains
all of the steps and a corresponding string that
contains the corresponding index. We look up the
current path (this.path) which represents what path
we are on in the DEEP process. We get an alphabetical
letter, and we convert that letter using its keyCode
to an integer, and *that* is the index we are looking
up on to find which codedChoices0 or codedChoices1
element to use.
<p>
codedIndexers works in an interesting way. Given
that we are on step 2, and the string is "BBcA".
If we are on path 1, the letters that correspond
to the index that we want for path 1 are at the
position "path * 2" and "path * 2 + 1". That is,
positions 3 and 4, or "cA". The "c" corresponds
to the index for codedIndexers0, and the "A"
corresponds to the index for codedIndexers1.
getChoiceIndex() pulls out the correct one.
<p>
After we get the letter, we convert it from an
alphabetical letter to an integer that represents
the index to look up on. This is done in
decodeIndexer().
<p>
Finally, index in hand, we can then look up that
index in the codedChoices0 and codedChoices1 to
find the corresponding choice to show. Whew!
<p>
Once we save the choice text, then we ask the
platform to update the choices.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line431">line 431</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="saveChoice"><span class="type-signature"></span>saveChoice<span class="signature">(choice)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Save the choice that the user selected.
Function called by DEEPQualtrics/DEEPLimeSurvey.saveChoice().
Calculates the itemRiskIndex, gets the risk values, new ID,
new path, and saves all of that to the data.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>choice</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">The choice made by the user.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DEEPCore.js.html">DEEPCore.js</a>, <a href="DEEPCore.js.html#line302">line 302</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DEEPCore.html">DEEPCore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Sat Oct 10 2015 17:58:20 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>